{"ast":null,"code":"import _classCallCheck from \"/Users/jcgardey/Sites/refactoring-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jcgardey/Sites/refactoring-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jcgardey/Sites/refactoring-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jcgardey/Sites/refactoring-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jcgardey/Sites/refactoring-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jcgardey/Sites/refactoring-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jcgardey/Sites/refactoring-react/src/components/ElementSelectionView.js\";\nimport React from 'react';\nimport PageSelector from '../PageSelector';\nimport XPathInterpreter from '../refactorings/XPathInterpreter';\nimport { Link } from 'route-lite';\n\nvar ElementSelectionView =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ElementSelectionView, _React$Component);\n\n  function ElementSelectionView(props) {\n    var _this;\n\n    _classCallCheck(this, ElementSelectionView);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ElementSelectionView).call(this, props));\n    _this.state = {\n      elementXpath: \"\"\n    };\n    _this.refactoring = new _this.props.refactoring();\n    _this.pageSelector = new PageSelector(_assertThisInitialized(_assertThisInitialized(_this)));\n\n    _this.pageSelector.enableElementSelection({\n      \"scrapperClass\": \"QuerySelectorScrapper\",\n      \"targetElementSelector\": _this.refactoring.targetElements(),\n      \"onElementSelection\": \"onElementSelection\",\n      \"justFullPath\": true\n    });\n\n    _this.pageSelector.preventDomElementsBehaviour();\n\n    return _this;\n  }\n\n  _createClass(ElementSelectionView, [{\n    key: \"onElementSelected\",\n    value: function onElementSelected(anElement) {\n      var elementXpath = new XPathInterpreter().getPath(anElement, document.body)[0];\n      this.setState({\n        elementXpath: elementXpath\n      });\n      this.refactoring.setElement(elementXpath);\n    }\n  }, {\n    key: \"disableElementSelection\",\n    value: function disableElementSelection() {\n      this.pageSelector.restoreDomElementsBehaviour();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, \"Select an Element\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, \"Target Element: \", React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }, this.state.elementXpath)), React.createElement(Link, {\n        onClick: this.disableElementSelection,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }, \"Continue\"));\n    }\n  }]);\n\n  return ElementSelectionView;\n}(React.Component);\n\nexport default ElementSelectionView;","map":{"version":3,"sources":["/Users/jcgardey/Sites/refactoring-react/src/components/ElementSelectionView.js"],"names":["React","PageSelector","XPathInterpreter","Link","ElementSelectionView","props","state","elementXpath","refactoring","pageSelector","enableElementSelection","targetElements","preventDomElementsBehaviour","anElement","getPath","document","body","setState","setElement","restoreDomElementsBehaviour","disableElementSelection","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,gBAAP,MAA6B,kCAA7B;AACA,SAASC,IAAT,QAAqB,YAArB;;IAEMC,oB;;;;;AAEF,gCAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAChB,8FAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,YAAY,EAAE;AAAf,KAAb;AACA,UAAKC,WAAL,GAAmB,IAAI,MAAKH,KAAL,CAAWG,WAAf,EAAnB;AACA,UAAKC,YAAL,GAAoB,IAAIR,YAAJ,uDAApB;;AACA,UAAKQ,YAAL,CAAkBC,sBAAlB,CAAyC;AACrC,uBAAiB,uBADoB;AAErC,+BAAyB,MAAKF,WAAL,CAAiBG,cAAjB,EAFY;AAGrC,4BAAsB,oBAHe;AAIrC,sBAAgB;AAJqB,KAAzC;;AAMA,UAAKF,YAAL,CAAkBG,2BAAlB;;AAXgB;AAYnB;;;;sCAGiBC,S,EAAW;AACzB,UAAMN,YAAY,GAAG,IAAIL,gBAAJ,GAAuBY,OAAvB,CAA+BD,SAA/B,EAA0CE,QAAQ,CAACC,IAAnD,EAAyD,CAAzD,CAArB;AACA,WAAKC,QAAL,CAAc;AAACV,QAAAA,YAAY,EAAEA;AAAf,OAAd;AACA,WAAKC,WAAL,CAAiBU,UAAjB,CAA4BX,YAA5B;AACH;;;8CAEyB;AACtB,WAAKE,YAAL,CAAkBU,2BAAlB;AACH;;;6BAES;AACN,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAO,KAAKb,KAAL,CAAWC,YAAlB,CAAnB,CAFJ,EAGI,oBAAC,IAAD;AAAM,QAAA,OAAO,EAAE,KAAKa,uBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,CADA;AAQH;;;;EApC8BpB,KAAK,CAACqB,S;;AAyCzC,eAAejB,oBAAf","sourcesContent":["import React from 'react';\nimport PageSelector from '../PageSelector';\nimport XPathInterpreter from '../refactorings/XPathInterpreter';\nimport { Link } from 'route-lite';\n\nclass ElementSelectionView extends React.Component {\n\n    constructor (props) {\n        super(props);\n        this.state = {elementXpath: \"\"};\n        this.refactoring = new this.props.refactoring();\n        this.pageSelector = new PageSelector (this);\n        this.pageSelector.enableElementSelection({\n            \"scrapperClass\": \"QuerySelectorScrapper\",\n            \"targetElementSelector\": this.refactoring.targetElements(),\n            \"onElementSelection\": \"onElementSelection\",\n            \"justFullPath\": true\n        });\n        this.pageSelector.preventDomElementsBehaviour();\n    }\n\n\n    onElementSelected(anElement) {\n        const elementXpath = new XPathInterpreter().getPath(anElement, document.body)[0];\n        this.setState({elementXpath: elementXpath});\n        this.refactoring.setElement(elementXpath);\n    }\n\n    disableElementSelection() {\n        this.pageSelector.restoreDomElementsBehaviour();\n    }\n\n    render () {\n        return (\n        <div>\n            <h1>Select an Element</h1>\n            <p>Target Element: <span>{this.state.elementXpath}</span></p>\n            <Link onClick={this.disableElementSelection}>Continue</Link>\n        </div>\n\n        );\n    }\n\n\n}\n\nexport default ElementSelectionView;"]},"metadata":{},"sourceType":"module"}