{"map":"{\"version\":3,\"sources\":[\"/Users/jcgardey/Sites/refactoring-react/src/components/ElementSelectionView.js\",\"/Users/jcgardey/Sites/refactoring-react/src/PageSelector.js\",\"/Users/jcgardey/Sites/refactoring-react/src/refactorings/UsabilityRefactoringOnElement.js\",\"/Users/jcgardey/Sites/refactoring-react/src/refactorings/UsabilityRefactoring.js\",\"/Users/jcgardey/Sites/refactoring-react/src/components/RefactoringView.js\",\"/Users/jcgardey/Sites/refactoring-react/src/components/RefactoringOnElementView.js\",\"/Users/jcgardey/Sites/refactoring-react/src/components/RenameElementView.js\",\"/Users/jcgardey/Sites/refactoring-react/src/refactorings/RenameElementRefactoring.js\",\"/Users/jcgardey/Sites/refactoring-react/src/components/RefactoringListView.js\",\"/Users/jcgardey/Sites/refactoring-react/src/content.js\",\"/Users/jcgardey/Sites/refactoring-react/src/index.js\",\"/Users/jcgardey/Sites/refactoring-react/src/refactorings/XPathInterpreter.js\"],\"names\":[\"ElementSelectionView\",\"props\",\"_this\",\"Object\",\"_Users_jcgardey_Sites_refactoring_react_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__\",\"this\",\"_Users_jcgardey_Sites_refactoring_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__\",\"_Users_jcgardey_Sites_refactoring_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__\",\"call\",\"state\",\"elementXpath\",\"refactoring\",\"pageSelector\",\"PageSelector\",\"_Users_jcgardey_Sites_refactoring_react_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_5__\",\"enableElementSelection\",\"scrapperClass\",\"targetElementSelector\",\"targetElements\",\"onElementSelection\",\"justFullPath\",\"preventDomElementsBehaviour\",\"disableElementSelection\",\"bind\",\"anElement\",\"XPathInterpreter\",\"getPath\",\"document\",\"body\",\"setState\",\"setElement\",\"restoreDomElementsBehaviour\",\"react__WEBPACK_IMPORTED_MODULE_6___default\",\"a\",\"createElement\",\"route_lite__WEBPACK_IMPORTED_MODULE_9__\",\"onClick\",\"component\",\"getView\",\"componentProps\",\"React\",\"Component\",\"__webpack_require__\",\"r\",\"__webpack_exports__\",\"_refactorings_XPathInterpreter__WEBPACK_IMPORTED_MODULE_0__\",\"console\",\"log\",\"scrappers\",\"XpathScrapper\",\"getElements\",\"selector\",\"getElementsByXpath\",\"getElement\",\"undefined\",\"elems\",\"length\",\"QuerySelectorScrapper\",\"querySelectorAll\",\"querySelector\",\"aComponent\",\"selectableElemClass\",\"onHoverHighlightClass\",\"selectionClass\",\"clearBackgroundClass\",\"obfuscatedClass\",\"onElementSelectionMessage\",\"loadListeners\",\"selectedElem\",\"prototype\",\"getSetOfXPathsByOccurrences\",\"element\",\"relativeElem\",\"generateRelativeSelector\",\"relativeElements\",\"xpaths\",\"xpi\",\"labeledXpaths\",\"justFullPaths\",\"getMultipleFullPaths\",\"matchingRelativeElem\",\"i\",\"contains\",\"getMultipleRelativeXPaths\",\"generatesSingleElemSelectors\",\"getMultipleXPaths\",\"ownerDocument\",\"includes\",\"elemsBySelector\",\"addToExistingLabeledXpath\",\"createNewLabeledXpath\",\"ocurrences\",\"xpath\",\"push\",\"me\",\"selectionListener\",\"evt\",\"matchingElements\",\"withParentElements\",\"removeHighlightingOnHover\",\"forEach\",\"targetElem\",\"removeStyleClass\",\"onElementSelected\",\"mouseEnterSelection\",\"preventDefault\",\"stopImmediatePropagation\",\"addStyleClass\",\"nodes\",\"parentNode\",\"unshift\",\"mouseLeaveSelection\",\"preventAnyAction\",\"preventActionsListener\",\"hasAugmentedAction\",\"executeAugmentedActions\",\"target\",\"type\",\"getAllVisibleDomElements\",\"getAllVisibleDomElementsButBody\",\"getCurrentSidebarElements\",\"highlightMatchingElements\",\"data\",\"selectMatchingElements\",\"removeFullSelectionStyle\",\"refElem\",\"scrapper\",\"refElemSelector\",\"addSelectionClass\",\"preventFormsOnSubmit\",\"elem\",\"addEventListener\",\"getEventsNamesToPrevent\",\"eventToPrevent\",\"form\",\"onsubmit\",\"removeAllAugmentedActions\",\"removeEventListener\",\"removeAugmentedActions\",\"removeAttribute\",\"e\",\"getTargetElements\",\"enableFullPathElementSelection\",\"darkifyAllDomElements\",\"lastUsedExtractor\",\"elements\",\"addSelectionListener\",\"scoped\",\"removeStyleOnSelection\",\"undarkifySidebarElements\",\"darkify\",\"refElems\",\"undarkifyAllDomElements\",\"removeElemsHighlightingClass\",\"removeHighlightingOnHoverFrom\",\"undarkify\",\"removeSelectableElemStyle\",\"getAugmentedActions\",\"actions\",\"toUpperCase\",\"event\",\"params\",\"listener\",\"getAttribute\",\"JSON\",\"parse\",\"isActionIncluded\",\"existingAction\",\"addAugmentedAction\",\"action\",\"setAttribute\",\"stringify\",\"onEvent\",\"addHighlightingOnHover\",\"addSelectableElemStyle\",\"removeSelectionClass\",\"removeClassFromMatchingElements\",\"Promise\",\"resolve\",\"removeEventBlockers\",\"className\",\"hElems\",\"classList\",\"remove\",\"addClassToMatchingElements\",\"isAVisibleElement\",\"style\",\"display\",\"getBoundingClientRect\",\"width\",\"addClearBackground\",\"add\",\"removeClearBackground\",\"UsabilityRefactoringOnElement\",\"classCallCheck\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"getSingleElementByXpath\",\"targetElement\",\"json\",\"get\",\"newStyle\",\"getStyleElement\",\"UsabilityRefactoring\",\"initialize\",\"transform\",\"applyStyle\",\"constructor\",\"name\",\"window\",\"RefactoringView\",\"handleSubmit\",\"assertThisInitialized\",\"execute\",\"refactoringUrl\",\"location\",\"href\",\"replace\",\"search\",\"react_default\",\"id\",\"value\",\"children\",\"build\",\"RefactoringListView\",\"goBack\",\"RefactoringOnElementView\",\"components_RefactoringView\",\"getElementXpath\",\"RenameElementView\",\"elementName\",\"handleChange\",\"setNewName\",\"components_RefactoringOnElementView\",\"onChange\",\"RenameElementRefactoring\",\"innerHTML\",\"newName\",\"Main\",\"lib_default\",\"head\",\"rel\",\"chrome\",\"runtime\",\"getURL\",\"lib\",\"_ref\",\"build_default\",\"components_RefactoringListView\",\"react_dom__WEBPACK_IMPORTED_MODULE_0__\",\"react_dom__WEBPACK_IMPORTED_MODULE_0___default\",\"n\",\"react__WEBPACK_IMPORTED_MODULE_1__\",\"react__WEBPACK_IMPORTED_MODULE_1___default\",\"_content__WEBPACK_IMPORTED_MODULE_2__\",\"app\",\"appendChild\",\"ReactDOM\",\"render\",\"onMessage\",\"addListener\",\"request\",\"sender\",\"sendResponse\",\"message\",\"currentElement\",\"xPaths\",\"engine\",\"FullXPathEngine\",\"XPathSelectorEngine\",\"BasicIdEngine\",\"ControlTypeBasedEngine\",\"ClassXPathEngine\",\"CssPathEngine\",\"setEngine\",\"addEngine\",\"engines\",\"removeEngine\",\"inlude\",\"indexOf\",\"removeEngines\",\"parent\",\"xPathArray\",\"path\",\"j\",\"err\",\"suitableForRelative\",\"slice\",\"lastIndexOf\",\"getElementByXPath\",\"node\",\"doc\",\"evaluate\",\"singleNodeValue\",\"XPathResult\",\"ANY_TYPE\",\"iterateNext\",\"results\",\"res\",\"aNode\",\"aExpr\",\"xpe\",\"defaultView\",\"XPathEvaluator\",\"nsResolver\",\"createNSResolver\",\"documentElement\",\"result\",\"found\",\"nodeName\",\"toLowerCase\",\"accumPathEnding\",\"traversingElem\",\"parentElement\",\"trim\",\"elemClass\",\"tagName\",\"elemClasses\",\"split\",\"elemPath\",\"paths\",\"nodeType\",\"index\",\"sibling\",\"previousSibling\",\"pathIndex\",\"splice\",\"join\",\"getElementCSSSelector\",\"localName\",\"label\",\"item\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from 'react';\\nimport PageSelector from '../PageSelector';\\nimport XPathInterpreter from '../refactorings/XPathInterpreter';\\nimport { Link } from 'route-lite';\\n\\nclass ElementSelectionView extends React.Component {\\n\\n    constructor (props) {\\n        super(props);\\n        this.state = {elementXpath: \\\"\\\"};\\n        this.refactoring = new this.props.refactoring();\\n        this.pageSelector = new PageSelector (this);\\n        this.pageSelector.enableElementSelection({\\n            \\\"scrapperClass\\\": \\\"QuerySelectorScrapper\\\",\\n            \\\"targetElementSelector\\\": this.refactoring.targetElements(),\\n            \\\"onElementSelection\\\": \\\"onElementSelection\\\",\\n            \\\"justFullPath\\\": true\\n        });\\n        this.pageSelector.preventDomElementsBehaviour();\\n\\n        this.disableElementSelection = this.disableElementSelection.bind(this);\\n    }\\n\\n\\n    onElementSelected(anElement) {\\n        const elementXpath = (new XPathInterpreter()).getPath(anElement, document.body)[0];\\n        this.setState({elementXpath: elementXpath});\\n        this.refactoring.setElement(elementXpath);\\n    }\\n\\n    disableElementSelection() {\\n        this.pageSelector.restoreDomElementsBehaviour();\\n    }\\n\\n    render () {\\n        return (\\n        <div>\\n            <h1>Select an Element</h1>\\n            <p>Target Element: <span>{this.state.elementXpath}</span></p>\\n            <Link onClick={this.disableElementSelection} component={this.refactoring.getView()} componentProps={{\\\"refactoring\\\": this.refactoring}}>Continue</Link>\\n        </div>\\n\\n        );\\n    }\\n\\n\\n}\\n\\nexport default ElementSelectionView;\",\"import XPathInterpreter from './refactorings/XPathInterpreter';\\n\\n//TODO: somehow, the file is realoded and that makes it impossible to remove listeners :(\\nconsole.log(\\\"\\\\n\\\\n\\\\n********* LOADING THE 'PAGE SELECTOR' FILE *********\\\\n\\\\n\\\\n\\\");\\n\\n\\nvar scrappers = { // Because we can not use window instead\\n\\t\\\"XpathScrapper\\\": function(){\\n\\t\\tthis.getElements = function(selector){\\n\\t\\t\\treturn (new XPathInterpreter()).getElementsByXpath(selector, document);\\n\\t\\t};\\n\\t\\tthis.getElement = function(selector){\\n\\t\\t\\tif(selector == undefined)\\n\\t\\t\\t\\treturn;\\n\\n\\t\\t\\tvar elems = (new XPathInterpreter()).getElementsByXpath(selector, document);\\n\\t\\t\\treturn (elems && elems.length > 0)? elems[0] : undefined; //(new XPathInterpreter()).getElementByXPath(selector, document);\\n\\t\\t};\\n\\t},\\n\\t\\\"QuerySelectorScrapper\\\": function(){\\n\\t\\tthis.getElements = function(selector){\\n\\t\\t\\treturn document.querySelectorAll(selector);\\n\\t\\t};\\n\\t\\tthis.getElement = function(selector){\\n\\t\\t\\tif(selector == undefined)\\n\\t\\t\\t\\treturn;\\n\\t\\t\\treturn document.querySelector(selector);\\n\\t\\t};\\n\\t}\\n}\\n\\nfunction PageSelector(aComponent){\\n\\t//this.createEventListeners();\\n\\tthis.selectableElemClass = \\\"andes-selectable\\\";\\n\\tthis.onHoverHighlightClass = \\\"andes-highlighted-on-hover\\\";\\n\\tthis.selectionClass = \\\"andes-selected\\\";\\n\\tthis.clearBackgroundClass = \\\"andes-clear-background\\\";\\n\\tthis.obfuscatedClass = \\\"andes-blurred\\\";\\n\\tthis.onElementSelectionMessage = null;\\n\\tthis.loadListeners();\\n\\tthis.selectedElem = null;\\n\\tthis.component = aComponent;\\n};\\nPageSelector.prototype.getSetOfXPathsByOccurrences = function(element, relativeElem, generateRelativeSelector, relativeElements){\\n\\n\\tvar xpi = new XPathInterpreter(), labeledXpaths = {}, xpaths;\\n\\n\\tif(this.justFullPaths){\\n\\t\\t//Input y trigger\\n\\t\\txpaths = xpi.getMultipleFullPaths(element, relativeElem);\\n\\t}\\n\\telse {\\n\\t\\tif(generateRelativeSelector){\\n\\t\\t\\t// properties\\n\\t\\t\\tvar matchingRelativeElem;\\n\\t\\t\\tfor (var i = relativeElements.length - 1; i >= 0; i--) {\\n\\t\\t\\t\\tif(relativeElements[i].contains(element)){\\n\\t\\t\\t\\t\\tmatchingRelativeElem = relativeElements[i];\\n\\t\\t\\t\\t\\tbreak;\\n\\t\\t\\t\\t}\\n\\t\\t\\t}\\n\\n\\t\\t\\tif(matchingRelativeElem)\\n\\t\\t\\t\\txpaths = xpi.getMultipleRelativeXPaths(element, matchingRelativeElem, this.generatesSingleElemSelectors);\\n\\t\\t\\telse xpaths = [];\\n\\t\\t}\\n\\t\\telse{\\n\\t\\t\\tconsole.log(\\\"getMultipleXPaths\\\");\\n\\t\\t\\txpaths = xpi.getMultipleXPaths(element, element.ownerDocument, this.generatesSingleElemSelectors);\\n\\t\\t}\\n\\t}\\n\\n\\tif(xpaths && xpaths.length){\\n\\t    for (var i = xpaths.length - 1; i >= 0; i--) {\\n\\n\\t    \\tif(!xpaths[i].includes(\\\"andes-\\\")){\\n\\n\\t\\t        var elemsBySelector = xpi.getElementsByXpath(xpaths[i], element.ownerDocument).length;\\n\\t\\t        if(elemsBySelector > 0){\\n\\n\\t\\t            if(labeledXpaths[elemsBySelector])\\n\\t\\t            \\tthis.addToExistingLabeledXpath(elemsBySelector, xpaths[i], labeledXpaths)\\n\\t\\t            else this.createNewLabeledXpath(elemsBySelector, xpaths[i], labeledXpaths); \\n\\t\\t        }\\n\\t\\t    }\\n\\t    }\\n\\t}\\n\\n    return labeledXpaths;\\n}\\nPageSelector.prototype.addToExistingLabeledXpath = function(ocurrences, xpath, labeledXpaths){\\n\\n\\tvar xpaths = labeledXpaths[ocurrences]; \\n\\t//console.log(\\\"existing\\\", xpaths, \\\" with \\\", xpath);\\n\\t\\txpaths.push(xpath);\\n\\n\\tlabeledXpaths[ocurrences] = xpaths; \\n}\\nPageSelector.prototype.createNewLabeledXpath = function(ocurrences, xpath, labeledXpaths){\\n\\n\\tlabeledXpaths[ocurrences] = [xpath]; \\n}\\nPageSelector.prototype.loadListeners = function(){\\n\\t\\n\\tvar me = this;\\n\\n\\tthis.selectionListener = function(evt){\\n\\n\\t\\tvar matchingElements = me.withParentElements(me.selectedElem);\\n\\n\\t\\tme.removeHighlightingOnHover(me.selectedElem); \\n\\t\\tmatchingElements.forEach(targetElem => {\\n\\t\\t\\tme.removeStyleClass(targetElem, me.selectionClass);\\n\\t\\t\\tme.removeStyleClass(targetElem, me.clearBackgroundClass);\\n\\t\\t});\\n\\n\\n\\t\\tme.component.onElementSelected(me.selectedElem);\\n\\n\\t\\t/**me.generatePreview(me.selectedElem).then(function(preview){\\n\\n\\t\\t\\tme.removeStyleClass(me.selectedElem, me.selectableElemClass);\\n\\t\\t\\tme.removeStyleClass(me.selectedElem, me.clearBackgroundClass);\\n\\n\\t\\t\\tvar selectors = me.getSetOfXPathsByOccurrences(me.selectedElem, me.refElem, me.generateRelativeSelector, me.refElems);\\n\\t\\t\\t\\n\\t\\t\\tconsole.log(selectors);\\n\\t\\t\\tme.addStyleClass(me.selectedElem, me.selectableElemClass);\\n\\t\\t\\tme.addHighlightingOnHover(me.selectedElem);\\n\\n\\t\\t\\tbrowser.runtime.sendMessage({\\n\\t\\t\\t\\t\\\"call\\\": evt.params.onElementSelection,\\n\\t\\t\\t\\t\\\"args\\\": {\\n\\t\\t\\t\\t\\t\\\"selectors\\\": selectors, \\n\\t\\t\\t\\t\\t\\\"previewSource\\\": preview,\\n\\t\\t\\t\\t\\t\\\"scoped\\\": evt.params.scoped,\\n\\t\\t\\t\\t\\t\\\"exampleValue\\\": (me.selectedElem.textContent)? me.selectedElem.textContent.trim() : \\\"\\\",\\n\\t\\t\\t\\t\\t\\\"call\\\": evt.params.onElementSelection\\n\\t\\t\\t\\t}\\n\\t\\t\\t});\\n\\t\\t})\\t*/\\n\\t};\\n\\tthis.mouseEnterSelection = function(evt) {  \\n\\n\\t\\tevt.preventDefault(); evt.stopImmediatePropagation();\\n\\t\\t//me.selectedElem = evt.target;\\n\\t\\t//console.log(me.selectedElem);\\n\\t\\tme.addStyleClass(this, me.onHoverHighlightClass);\\n\\t};\\n\\tthis.withParentElements = function(element){\\n\\n\\t\\tvar nodes = [];\\n\\t\\tnodes.push(element);\\n\\t\\twhile(element.parentNode) {\\n\\t\\t    nodes.unshift(element.parentNode);\\n\\t\\t    element = element.parentNode;\\n\\t\\t}\\n\\t\\treturn nodes;\\n\\t};\\n\\tthis.mouseLeaveSelection = function(evt) {  \\n\\n\\t\\tme.removeStyleClass(this, me.onHoverHighlightClass);\\n\\t\\tevt.preventDefault(); evt.stopImmediatePropagation();\\n\\t};\\n\\tthis.preventAnyAction = function(evt){\\n\\t\\t\\n\\t\\tevt.preventDefault(); evt.stopImmediatePropagation();\\n\\t\\treturn false; //This is for preventing anchors\\n\\t};\\n\\tthis.preventActionsListener = function(evt){\\n\\t\\t\\n\\t\\tevt.preventDefault(); evt.stopImmediatePropagation();\\n\\t\\tme.selectedElem = this; //evt.target;\\n\\t\\t\\n\\t\\tif(me.selectedElem ) {\\n\\t\\t\\tif(me.hasAugmentedAction(me.selectedElem)){\\n\\t\\t\\t\\tconsole.log(\\\"preventActionsListener\\\");\\n\\t\\t\\t\\tme.executeAugmentedActions({\\\"target\\\": me.selectedElem, \\\"type\\\": evt.type});\\n\\t\\t\\t}\\n\\t\\t} \\n\\n\\t\\treturn false; \\n\\t};\\n};\\nPageSelector.prototype.getAllVisibleDomElements = function(){\\n\\treturn document.querySelectorAll(\\\"body, input, div, a, img, span, label, ul, li, p, pre, cite, em\\\"); //:not(.first)\\n};\\nPageSelector.prototype.getAllVisibleDomElementsButBody = function(){\\n\\treturn document.querySelectorAll(\\\"div, input, a, img, span, label, ul, li, p, pre, cite, em, form, select, h1, h2, h3, h4, h5, h6\\\"); //:not(.first)\\n};\\nPageSelector.prototype.getCurrentSidebarElements = function(){\\n\\t\\n\\treturn document.querySelector(\\\"#refactoring-extension-root\\\").querySelectorAll(\\\"*\\\");\\n};\\nPageSelector.prototype.highlightMatchingElements = function(data){\\n\\n\\t/*var elems = (new XPathInterpreter()).getElementsByXpath(data.xpath, document);\\n\\tfor (var i = elems.length - 1; i >= 0; i--) {\\n\\t\\tthis.addSelectionClass(elems[i]);\\n\\t}*/\\n};\\nPageSelector.prototype.selectMatchingElements = function(data){\\n\\n\\tif(data.removeFullSelectionStyle)\\n\\t\\tthis.removeFullSelectionStyle();\\n\\t\\n\\tvar refElem = (data.scrapper && data.refElemSelector)? (new scrappers[data.scrapper]()).getElement(data.refElemSelector) : document;\\n\\n\\tvar elems = (new XPathInterpreter()).getElementsByXpath(data.selector, refElem);\\n\\tfor (var i = elems.length - 1; i >= 0; i--) {\\n\\t\\tthis.addSelectionClass(elems[i]);\\n\\t};\\n};\\nPageSelector.prototype.preventDomElementsBehaviour = function(){\\n\\n\\tvar me=this;\\n\\tthis.preventFormsOnSubmit();\\n\\tthis.getAllVisibleDomElementsButBody().forEach(function(elem){\\n\\t\\t\\n\\t\\telem.addEventListener(\\\"click\\\", me.preventActionsListener, false);\\n\\t\\tme.getEventsNamesToPrevent().forEach(function(eventToPrevent){\\n\\t\\t\\telem.addEventListener(eventToPrevent, me.preventAnyAction, false);\\n\\t\\t});\\n\\t});\\n};\\nPageSelector.prototype.preventFormsOnSubmit = function(){\\n\\n\\t//TODO: it is not working with \\\"addEventListener\\\". This is a problem because maybe we can not resore the original behaviour after this\\n\\tdocument.querySelectorAll(\\\"form\\\").forEach(function(form){ \\n\\t\\tform.onsubmit = function(evt){ \\n    \\t\\treturn false;\\n\\t\\t}; \\n    });\\n}\\nPageSelector.prototype.restoreDomElementsBehaviour = function(){\\n\\n\\tthis.removeAllAugmentedActions();\\n\\n\\tvar me=this; ///////THIS MAY BE A PROBLEM FOR THE SIDEBAR IF THIS METHOD IS CALLED IN THE MIDDLE OF THE PROCESS\\n\\tthis.getAllVisibleDomElementsButBody().forEach(function(elem){\\n\\n\\t\\telem.removeEventListener(\\\"click\\\", me.preventActionsListener, false);\\n\\t\\tme.getEventsNamesToPrevent().forEach(function(eventToPrevent){\\n\\t\\t\\telem.removeEventListener(eventToPrevent, me.preventAnyAction, false);\\n\\t\\t});\\t\\t\\n\\t\\tme.removeHighlightingOnHover(elem);\\n\\t});\\n\\n\\tthis.removeFullSelectionStyle();\\n};\\nPageSelector.prototype.removeAugmentedActions = function(elem){\\n\\t\\n\\telem.removeAttribute(\\\"andes-actions\\\");\\n};\\nPageSelector.prototype.removeAllAugmentedActions = function(elem){\\n\\t\\n\\tdocument.querySelectorAll(\\\"*[andes-actions]\\\").forEach(e => e.removeAttribute(\\\"andes-actions\\\"));\\n};\\nPageSelector.prototype.getEventsNamesToPrevent = function(){\\n\\t\\n\\treturn [\\\"click\\\", \\\"mouseup\\\", \\\"mousedown\\\"]; //, \\\"keydown\\\", \\\"keyup\\\", \\\"keypress\\\",\\n};\\nPageSelector.prototype.getTargetElements = function(selector){\\n\\t\\n\\treturn document.querySelectorAll(selector);\\n};\\nPageSelector.prototype.enableFullPathElementSelection = function(data){\\n\\n\\tthis.darkifyAllDomElements();\\n\\tthis.preventFormsOnSubmit();\\n\\n\\tthis.lastUsedExtractor = new scrappers[data.scrapperClass]();\\n\\tthis.generatesSingleElemSelectors = data.generatesSingleElemSelectors;\\n\\tvar elements = this.lastUsedExtractor.getElements(data.targetElementSelector);\\n\\tthis.refElem = this.lastUsedExtractor.getElement(data.refElemSelector);\\n\\n\\tthis.onElementSelectionMessage = data.onElementSelection;\\n\\n    this.addSelectionListener(\\n    \\telements, \\n    \\tdata.onElementSelection, \\n    \\t\\\"click\\\", \\n    \\tdata.scoped,\\n    \\tdata.removeStyleOnSelection,\\n    \\tdata.generateRelativeSelector,\\n    \\tdata /*este solo es laposta*/\\n    );\\n    this.undarkifySidebarElements();\\n    this.darkify(document.body); \\n};\\nPageSelector.prototype.enableElementSelection = function(data){\\n\\n\\tthis.darkifyAllDomElements();\\n\\tthis.preventFormsOnSubmit();\\n\\n\\tthis.lastUsedExtractor = new scrappers[data.scrapperClass]();\\n\\tthis.generatesSingleElemSelectors = data.generatesSingleElemSelectors;\\n\\tvar elements = this.lastUsedExtractor.getElements(data.targetElementSelector);\\n\\tthis.refElem = this.lastUsedExtractor.getElement(data.refElemSelector);\\n\\tthis.refElems = this.lastUsedExtractor.getElements(data.refElemSelector);\\n\\tthis.onElementSelectionMessage = data.onElementSelection;\\n\\tthis.justFullPaths = data.justFullPaths;\\n\\n    this.addSelectionListener(\\n    \\telements, \\n    \\tdata.onElementSelection, \\n    \\t\\\"click\\\", \\n    \\tdata.scoped,\\n    \\tdata.removeStyleOnSelection,\\n    \\tdata.generateRelativeSelector,\\n    \\tdata /*este solo es laposta*/\\n    );\\n    this.undarkifySidebarElements();\\n    this.darkify(document.body); \\n};\\nPageSelector.prototype.disableElementSelection = function(data){\\n\\n\\tthis.undarkifyAllDomElements();\\n\\tthis.removeElemsHighlightingClass(data.selector);\\n\\tthis.removeHighlightingOnHoverFrom(data.selector);\\n    this.removeAllAugmentedActions(); //TODO: do not just remove. add a default action (prevent)\\n};\\nPageSelector.prototype.darkifyAllDomElements = function(){\\n\\n\\tvar me = this, elems = this.getAllVisibleDomElements(); \\n\\telems.forEach(function(elem) { \\n\\t\\tme.darkify(elem);\\n    });\\n}\\nPageSelector.prototype.undarkifyAllDomElements = function(){\\n\\n\\tvar me = this, elems = this.getAllVisibleDomElements(); \\n\\telems.forEach(function(elem) { \\n\\t\\tme.undarkify(elem);\\n    });\\n}\\nPageSelector.prototype.removeElemsHighlightingClass = function(selector){\\n\\n\\tvar me = this, elems = this.lastUsedExtractor.getElements(selector); \\n\\telems.forEach(function(elem) { \\n\\t\\tme.removeSelectableElemStyle(elem);\\n    });\\n}\\nPageSelector.prototype.hasAugmentedAction = function(target){\\n\\n\\treturn (this.getAugmentedActions(target).length > 0);\\t\\n}\\nPageSelector.prototype.executeAugmentedActions = function(evt){\\n\\n\\tvar actions = this.getAugmentedActions(evt.target);\\n\\t\\n\\tfor (var i = actions.length - 1; i >= 0; i--) {\\n\\t\\tif(evt.type.toUpperCase() == actions[i].event.toUpperCase()){\\n\\t\\t\\tevt.params = actions[i].params;\\n\\t\\t\\tthis[actions[i].listener](evt); //e.g. \\n\\t\\t}\\n\\t}\\n}\\nPageSelector.prototype.getAugmentedActions = function(elem){\\n\\n\\tif (elem){\\n\\t\\tvar actions = elem.getAttribute(\\\"andes-actions\\\");\\n\\t\\tif (actions && actions.length)\\n\\t\\t\\treturn actions=JSON.parse(actions);\\n\\t}\\n\\treturn [];\\n}\\nPageSelector.prototype.isActionIncluded = function(existingAction, actions){\\n\\n\\tfor (var i = actions.length - 1; i >= 0; i--) {\\n\\t\\tif(actions[i].listener == existingAction.listener && actions[i].listener == existingAction.listener){\\n\\t\\t\\treturn true;\\n\\t\\t}\\n\\t}\\n\\treturn false;\\n}\\nPageSelector.prototype.addAugmentedAction = function(elem, action, params){\\n\\n\\tvar actions = this.getAugmentedActions(elem);\\n\\tif(!this.isActionIncluded(action, actions)) {\\n\\t\\tactions.push(action);\\n\\t\\telem.setAttribute(\\\"andes-actions\\\", JSON.stringify(actions));\\n\\t}\\n}\\nPageSelector.prototype.addSelectionListener = function(elements, onElementSelection, onEvent, scoped, \\n\\tremoveStyleOnSelection, generateRelativeSelector, data){\\n\\n\\tvar me = this;\\n\\n\\t\\tthis.removeStyleOnSelection = removeStyleOnSelection;\\n\\t\\tthis.scoped = scoped;\\n\\t\\tthis.generateRelativeSelector = generateRelativeSelector;\\n\\n\\telements.forEach(function(elem) { \\n\\t\\tme.undarkify(elem);\\t\\n\\t\\tme.addHighlightingOnHover(elem);\\n\\t\\tme.addSelectableElemStyle(elem);\\n\\t\\tme.addAugmentedAction(elem, {\\n\\t\\t\\t\\\"listener\\\": \\\"selectionListener\\\", \\n\\t\\t\\t\\\"event\\\": onEvent, \\n\\t\\t\\t\\\"params\\\": data\\n\\t\\t});\\n    });\\t\\n}\\n\\nPageSelector.prototype.addHighlightingOnHover = function(elem){\\n\\telem.addEventListener(\\\"mouseover\\\", this.mouseEnterSelection, false);\\n\\telem.addEventListener(\\\"mouseleave\\\", this.mouseLeaveSelection, false);\\n}\\nPageSelector.prototype.removeHighlightingOnHover = function(elem){\\n\\n\\telem.removeEventListener(\\\"mouseover\\\", this.mouseEnterSelection, false);\\n\\telem.removeEventListener(\\\"mouseleave\\\", this.mouseLeaveSelection, false);\\n\\tthis.removeStyleClass(elem, this.onHoverHighlightClass);\\n}\\nPageSelector.prototype.addSelectableElemStyle = function(elem){\\n\\n\\tthis.addStyleClass(elem, this.selectableElemClass);  \\n}\\nPageSelector.prototype.addSelectionClass = function(elem){\\n\\n\\tthis.addStyleClass(elem, this.selectionClass);  \\n}\\nPageSelector.prototype.removeSelectionClass = function(elem){\\n\\n\\tthis.removeStyleClass(elem, this.selectionClass);  \\n}\\nPageSelector.prototype.removeFullSelectionStyle = function(){\\n\\n\\tthis.removeClassFromMatchingElements(this.obfuscatedClass);\\n\\tthis.removeClassFromMatchingElements(this.selectableElemClass);\\n\\tthis.removeClassFromMatchingElements(this.onHoverHighlightClass);\\n\\tthis.removeClassFromMatchingElements(this.clearBackgroundClass);\\n\\tthis.removeClassFromMatchingElements(this.selectionClass);\\n\\t//this.restoreDomElementsBehaviour();\\n\\n\\treturn Promise.resolve();\\n}\\nPageSelector.prototype.removeHighlightingOnHoverFrom = function(selector){\\n\\t\\n\\tthis.selectedElem = undefined;\\n\\n\\tvar me = this;\\n\\t(this.lastUsedExtractor.getElements(selector)).forEach(function(elem){\\n\\t\\tme.removeHighlightingOnHover(elem);\\n\\t});\\n}\\nPageSelector.prototype.removeEventBlockers = function(){\\n\\n\\tconsole.log(\\\"Removing event blockers\\\");\\n}\\nPageSelector.prototype.removeClassFromMatchingElements = function(className){\\n\\n\\tvar hElems = document.querySelectorAll(\\\".\\\" + className);\\n\\t\\thElems.forEach(e => e.classList.remove(className));\\n\\treturn hElems;\\n}\\nPageSelector.prototype.addClassToMatchingElements = function(elems, className){\\n\\n\\tfor (var i = 0; i < elems.length; i++) {\\n\\t\\tthis.addStyleClass(elems[i], className);\\n\\t}\\n\\treturn elems;\\n}\\nPageSelector.prototype.undarkifySidebarElements = function(){\\n\\n\\tvar me = this;\\n\\tthis.getCurrentSidebarElements().forEach(function(elem) { \\n\\t\\tme.undarkify(elem);\\t\\t\\n    });\\n}\\nPageSelector.prototype.isAVisibleElement = function(elem){\\n\\n\\treturn (elem.style.display != \\\"none\\\" && elem.getBoundingClientRect().width != 0)? true : false;\\n}\\nPageSelector.prototype.darkify = function(elem){\\n\\n\\tthis.addStyleClass(elem, this.obfuscatedClass);\\n};\\nPageSelector.prototype.addClearBackground = function(elem){\\n\\t\\n\\tthis.addStyleClass(elem, this.clearBackgroundClass);\\n};\\nPageSelector.prototype.addStyleClass = function(elem, className){\\n\\n\\tif(elem.classList && !elem.classList.contains(className)){\\n\\t\\telem.classList.add(className);\\n\\t}\\n};\\nPageSelector.prototype.removeStyleClass = function(elem, className){\\n\\t\\n\\tif(elem && elem.classList && elem.classList.contains(className)){\\n\\t\\telem.classList.remove(className);\\n\\t}\\n};\\nPageSelector.prototype.undarkify = function(elem){\\n\\t\\n\\tthis.removeStyleClass(elem, this.obfuscatedClass);\\n};\\nPageSelector.prototype.removeSelectableElemStyle = function(elem){\\n\\t\\n\\tthis.removeStyleClass(elem, this.selectableElemClass);\\t\\n};\\nPageSelector.prototype.removeClearBackground = function(elem){\\n\\t\\n\\tthis.removeStyleClass(elem, this.clearBackgroundClass);\\t\\n};\\n\\nexport default PageSelector;\",\"import XPathInterpreter from \\\"./XPathInterpreter\\\";\\nimport UsabilityRefactoring from \\\"./UsabilityRefactoring\\\";\\n\\nclass UsabilityRefactoringOnElement extends UsabilityRefactoring {\\n\\n    constructor() {\\n        super();\\n    }\\n\\n    setElement(elementXpath) {\\n        this.elementXpath = elementXpath;\\n    }\\n\\n    getElementXpath () {\\n        return this.elementXpath;\\n    }\\n\\n    getElement() {\\n        return new XPathInterpreter().getSingleElementByXpath(this.elementXpath, document.body);\\n    }\\n\\n    initialize () {\\n        this.targetElement = this.getElement();\\n    }\\n\\n    serialize () {\\n        let json = super.serialize();\\n        json.elementXpath = this.elementXpath;\\n        json.style = this.style;\\n        return json;\\n    }\\n\\n    isOnElement () {\\n        return true;\\n    }\\n\\n    setStyle (style) {\\n        this.style = style;\\n    }\\n\\n    getStyleElement () {\\n        return this.targetElement;\\n    }\\n\\n    applyStyle () {\\n        if (!this.style) {\\n            return\\n        }\\n        let newStyle = \\\"\\\";\\n        if (!this.getStyleElement().getAttribute(\\\"style\\\")) {\\n            newStyle = this.style;\\n        }\\n        else {\\n            newStyle = \\\";\\\" + this.style;\\n        }\\n        this.getStyleElement().setAttribute(\\\"style\\\", newStyle);\\n    }\\n\\n}\\n\\nexport default UsabilityRefactoringOnElement;\",\"\\nclass UsabilityRefactoring {\\n    constructor () {}\\n    initialize () {}\\n    transform () {}\\n    applyStyle () {}\\n\\n    execute () {\\n        this.initialize();\\n        this.transform();\\n        this.applyStyle();\\n    }\\n\\n    isOnElement () {\\n        return false;\\n    }\\n\\n    serialize () {\\n        return {\\\"refactoring\\\": this.constructor.name}\\n    }\\n\\n    createRefactoring(json) {\\n        return new window[json.refactoring](json);\\n    }\\n}\\n\\nexport default UsabilityRefactoring;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n    \\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\",\"import React from 'react';\\nimport { Link, goBack } from 'route-lite';\\nimport RefactoringListView from \\\"./RefactoringListView\\\";\\n\\nclass RefactoringView extends React.Component {\\n\\n    constructor(props) {\\n        super(props);\\n        this.refactoring = this.props.refactoring;\\n        this.handleSubmit = this.handleSubmit.bind(this);\\n    }\\n\\n    handleSubmit() {\\n        this.refactoring.execute();\\n    }\\n\\n\\n    render () {\\n        const refactoringUrl = document.location.href.replace(document.location.search, \\\"\\\");\\n        return (\\n            <div id={\\\"uxpainter-refactoring-form\\\"}>\\n                <input type={'hidden'} id={'url_for_instance'} value={refactoringUrl}/>\\n                {this.props.children}\\n                <div className={'uxpainter-form-group'}>\\n                    <Link onClick={this.handleSubmit} component={RefactoringListView}>Apply</Link>\\n                    <Link onClick={() => goBack()}>Cancel</Link>\\n                </div>\\n            </div>\\n        )\\n    }\\n\\n}\\n\\nexport default RefactoringView;\",\"import React from 'react';\\nimport RefactoringView from './RefactoringView';\\n\\nclass RefactoringOnElementView extends React.Component {\\n\\n    constructor (props) {\\n        super(props);\\n    }\\n\\n    render () {\\n        return (\\n            <RefactoringView refactoring={this.props.refactoring}>\\n                <div className={'uxpainter-form-group'}>\\n                    <label>Target Element</label>\\n                    <p>{this.props.refactoring.getElementXpath()}</p>\\n                </div>\\n                {this.props.children}\\n            </RefactoringView>\\n        )\\n    }\\n}\\n\\nexport default RefactoringOnElementView;\",\"import React from 'react';\\nimport RefactoringOnElementView from './RefactoringOnElementView';\\n\\nclass RenameElementView extends React.Component {\\n\\n    constructor(props) {\\n        super(props);\\n        this.state = {elementName: ''};\\n        this.handleChange = this.handleChange.bind(this);\\n        this.refactoring = this.props.refactoring;\\n    }\\n\\n    handleChange(event) {\\n        this.setState({elementName: event.target.value});\\n        this.refactoring.setNewName(this.state.elementName);\\n    }\\n\\n\\n    render () {\\n        return (\\n            <RefactoringOnElementView refactoring={this.refactoring}>\\n                <div className={'ux-painter-form-group'}>\\n                    <label>Element Name</label>\\n                    <input type={'text'} id={'uxpainter-element-name'} onChange={this.handleChange}/>\\n                </div>\\n            </RefactoringOnElementView>\\n        )\\n    }\\n\\n}\\n\\nexport default RenameElementView;\",\"import UsabilityRefactoringOnElement from './UsabilityRefactoringOnElement.js';\\nimport RenameElementView from '../components/RenameElementView';\\n\\nclass RenameElementRefactoring extends UsabilityRefactoringOnElement {\\n    constructor () {\\n        super();\\n    }\\n\\n    transform () {\\n        const anElement = this.getElement();\\n        if (anElement !== \\\"undefined\\\") {\\n            anElement.innerHTML = this.newName;\\n        }\\n    }\\n\\n    setNewName (newName) {\\n        this.newName = newName;\\n    }\\n\\n    serialize () {\\n        let json = super.serialize();\\n        json.newName = this.newName;\\n        return json;\\n    }\\n\\n    targetElements () {\\n        return \\\"a, button, input[type='button'], input[type='submit'], span, p, h1, h2, h3, h4, h5, h6\\\";\\n    }\\n\\n    getView () {\\n        return RenameElementView;\\n    }\\n\\n}\\n\\nexport default RenameElementRefactoring;\\n\\n\\n\",\"import {Link} from \\\"route-lite\\\";\\nimport ElementSelectionView from \\\"./ElementSelectionView\\\";\\nimport RenameElementRefactoring from \\\"../refactorings/RenameElementRefactoring\\\";\\nimport React from \\\"react\\\";\\n\\nclass RefactoringListView extends React.Component {\\n\\n    render () {\\n        return ([\\n                <h1>Availables Refactorings</h1>,\\n                <ul>\\n                    <li><Link component={ElementSelectionView}componentProps={{refactoring: RenameElementRefactoring}}>Rename Element</Link></li>\\n                </ul>]\\n        )\\n    }\\n}\\n\\nexport default RefactoringListView;\",\"/*global chrome*/\\n/* src/content.js */\\nimport React from 'react';\\nimport Frame, { FrameContextConsumer } from 'react-frame-component';\\nimport \\\"./content.css\\\";\\nimport RefactoringListView from './components/RefactoringListView';\\nimport Router from \\\"route-lite\\\";\\n\\nclass Main extends React.Component {\\n\\n    render() {\\n        return (\\n            <Frame head={[<link type=\\\"text/css\\\" rel=\\\"stylesheet\\\" href={chrome.runtime.getURL(\\\"/static/css/1.chunk.css\\\")} ></link>]}>\\n                <FrameContextConsumer>\\n                    {\\n                        // Callback is invoked with iframe's window and document instances\\n                        ({document, window}) => {\\n                            // Render Children\\n                            return (\\n                                <div className={'my-extension'}>\\n                                    <Router>\\n                                        <RefactoringListView/>\\n                                    </Router>\\n                                </div>\\n                            )\\n                        }\\n                    }\\n                </FrameContextConsumer>\\n            </Frame>\\n        )\\n    }\\n}\\n\\nexport default Main;\",\"/*global chrome*/\\n\\nimport ReactDOM from \\\"react-dom\\\";\\nimport React from \\\"react\\\";\\nimport Main from './content'\\nimport \\\"./index.css\\\"\\n\\nconst app = document.createElement('div');\\napp.id = \\\"refactoring-extension-root\\\";\\ndocument.body.appendChild(app);\\nReactDOM.render(<Main />, app);\\n\\napp.style.display = \\\"none\\\";\\nchrome.runtime.onMessage.addListener(\\n    function(request, sender, sendResponse) {\\n        if( request.message === \\\"clicked_browser_action\\\") {\\n            toggle();\\n        }\\n    }\\n);\\n\\nfunction toggle(){\\n    if(app.style.display === \\\"none\\\"){\\n        app.style.display = \\\"block\\\";\\n    }else{\\n        app.style.display = \\\"none\\\";\\n    }\\n}\",\"/*\\n * Clase principal de entrada\\n */\\nfunction XPathInterpreter() {\\n    this.currentElement = null;\\n    this.xPaths = null;\\n    this.engine = new FullXPathEngine();\\n\\n}\\n// setear un unico engine de busqueda de xpath\\nXPathInterpreter.prototype.setEngine = function(engine) {\\n    this.engine = engine;\\n    //this.engines = new array(engine);\\n};\\n\\n// agregar un engine de busqueda de xpath a los existentes\\nXPathInterpreter.prototype.addEngine = function(engine) {\\n    this.engines.add(engine);\\n};\\n\\n// borrar un engine de busqueda de xpaths\\nXPathInterpreter.prototype.removeEngine = function(engine) {\\n    if (this.engines.inlude(engine)){\\n        this.engines.remove(this.engines.indexOf(engine));\\n    }\\n};\\n\\n// borrar todos los engine de busqueda de xpaths\\nXPathInterpreter.prototype.removeEngines = function() {\\n    this.engines = [];\\n};\\n\\nXPathInterpreter.prototype.getMultipleFullPaths = function(element, parent) {\\n    \\n    var xPathArray = [];\\n    if(element == undefined) return;\\n\\n    try{\\n        var path = (new FullXPathEngine()).getPath(element, document);\\n        if (path !== undefined && path !== null && path.length && path.length > 0){\\n\\n            for (var j = 0; j < path.length; j++) {\\n                \\n                xPathArray.push(path[j]);                        \\n            } \\n        }\\n    }catch(err){ console.log(err); }\\n\\n    return xPathArray;\\n};\\n\\nXPathInterpreter.prototype.getMultipleRelativeXPaths = function(element, parent, generatesSingleElemSelectors) {\\n    \\n    var xPathArray = [];\\n    if(element == undefined || parent == undefined)\\n        return;\\n\\n    for (var i = 0; i < this.engine.length; i++) {\\n\\n        if(this.engine[i].suitableForRelative() && (this.engine[i].generatesSingleElemSelectors() == generatesSingleElemSelectors)){\\n            try{\\n                var path = this.engine[i].getPath(element, parent);\\n                console.log(this.engine[i].constructor.name, path);\\n                if (path !== undefined && path !== null && path.length && path.length > 0){\\n\\n                    for (var j = 0; j < path.length; j++) {\\n                        \\n                        xPathArray.push(path[j]);                        \\n                    } \\n                }\\n            }catch(err){ console.log(err); }\\n        }\\n    };\\n\\n    return xPathArray;\\n};\\n\\n\\n// obtener un array de xPaths correspondiente a los engines seteados\\nXPathInterpreter.prototype.getMultipleXPaths = function(element, parent, generatesSingleElemSelectors) {\\n    \\n    var xPathArray = [];\\n    if(element == undefined)\\n        return;\\n\\n    if(parent == undefined)\\n        parent = element.ownerDocument;\\n\\n\\n    //var console = element.ownerDocument.defaultView.console; //.log(\\\"********************************\\\", element, parent);\\n    for (var i = 0; i < this.engine.length; i++) {\\n\\n        //console.log(this.engine[i].constructor.name, this.engine[i].generatesSingleElemSelectors(), generatesSingleElemSelectors);\\n        if(this.engine[i].generatesSingleElemSelectors() == generatesSingleElemSelectors){\\n            try{\\n                var path = this.engine[i].getPath(element, parent);\\n                //console.log(this.engine[i].constructor.name, path);\\n\\n                if (path !== undefined && path !== null && path.length && path.length > 0){\\n\\n                    for (var j = 0; j < path.length; j++) {\\n                        \\n                        if(path[j] != null && path[j].indexOf('.//')>-1){\\n                            xPathArray.push(path[j].slice(0,path[j].lastIndexOf(\\\"[\\\")));\\n                        }\\n                        \\n                        xPathArray.push(path[j]);                        \\n                    } \\n                }\\n            }catch(err){ console.log(err); }\\n        }\\n    };\\n    return xPathArray;\\n};\\n\\n// obtiene un xpath unico\\nXPathInterpreter.prototype.getPath = function(element, parent) {\\n    return this.engine.getPath(element, parent);\\n    // return xPathArray;    \\n};\\n\\nXPathInterpreter.prototype.getElementByXPath = function(xpath, node){\\n    //WARNING: I THINK THIS IS NOT PROPERLY WORKING. USE -> getSingleElementByXpath\\n    var doc = (node && node.ownerDocument)? node.ownerDocument : node;\\n    return  doc.evaluate( xpath, doc, null, \\n        9, null).singleNodeValue; // 9 = FIRST_ORDERED_NODE_TYPE*/\\n}\\nXPathInterpreter.prototype.getSingleElementByXpath = function(xpath, node) {\\n\\n    var doc = (node && node.ownerDocument)? node.ownerDocument : node;\\n    var results = doc.evaluate(xpath, node, null, XPathResult.ANY_TYPE, null); \\n    return results.iterateNext(); \\n};\\nXPathInterpreter.prototype.getElementsByXpath = function(xpath, node) {\\n\\n    var nodes = [];\\n\\n    try{\\n        var doc = (node && node.ownerDocument)? node.ownerDocument : node;\\n        var results = doc.evaluate(xpath, doc, null, XPathResult.ANY_TYPE, null); \\n        var res = results.iterateNext(); \\n\\n        while (res) {\\n          nodes.push(res);\\n          res = results.iterateNext();\\n        }\\n    }catch(err){ console.log(err)}\\n\\n    return nodes;\\n};\\n\\n\\n/* \\n * Clase strategy\\n */\\nfunction XPathSelectorEngine() {\\n//    if ( arguments.callee.instance )    //Singleton pattern\\n//        return arguments.callee.instance;\\n//    arguments.callee.instance = this;\\n}\\n\\n// Funcion para obtener elementos a partir de una expresion\\n// antiguo evaluateXpath\\n// recibe un nodo base o utiliza el documento\\n// una expresion Xpath\\nXPathSelectorEngine.prototype.getElement = function(aNode, aExpr) {\\n   \\n    var xpe = new aNode.defaultView.XPathEvaluator();\\n    var nsResolver = xpe.createNSResolver(aNode.ownerDocument === null ?\\n        aNode.documentElement : aNode.ownerDocument.documentElement);\\n    var result = xpe.evaluate(aExpr, aNode, nsResolver, 0, null);\\n    var found = [];\\n    var res;\\n    while (res = result.iterateNext())\\n        found.push(res);\\n    return found;\\n};\\nXPathSelectorEngine.prototype.suitableForRelative = function() {\\n   \\n    return false;\\n};\\nXPathSelectorEngine.prototype.generatesSingleElemSelectors = function() {\\n   \\n    return false;\\n};\\n\\n\\n/* \\n * Estrategia por ID directo\\n * Si no lo encuentra devuelve null\\n */\\nfunction BasicIdEngine() {\\n\\n}\\n\\n\\nBasicIdEngine.prototype = new XPathSelectorEngine();\\nBasicIdEngine.prototype.constructor = BasicIdEngine;\\n\\nBasicIdEngine.prototype.getPath = function(element, parent){\\n\\n    if (element && element.id){\\n        return ['.//'+ element.nodeName.toLowerCase() +'[@id=\\\"' + element.id + '\\\"]']; \\n    }else{\\n        return; \\n    }\\n};\\nBasicIdEngine.prototype.generatesSingleElemSelectors = function() {\\n   \\n    return true;\\n};\\n\\n\\n\\n\\nfunction ControlTypeBasedEngine() {\\n\\n}\\nControlTypeBasedEngine.prototype = new XPathSelectorEngine();\\nControlTypeBasedEngine.prototype.constructor = ControlTypeBasedEngine;\\nControlTypeBasedEngine.prototype.getPath = function(element, parent){\\n\\n    if (!element) return;\\n    \\n    var xpaths = [];\\n    var tagName = element.nodeName.toLowerCase();\\n    var accumPathEnding = tagName;\\n    var traversingElem = element;\\n\\n    while (traversingElem = traversingElem.parentElement){\\n        if(traversingElem.className){\\n            accumPathEnding = \\\"*[contains(@class, 'briefCitRow')]/\\\" + accumPathEnding;\\n            break;\\n        }\\n        else{\\n            accumPathEnding = traversingElem.nodeName.toLowerCase() + \\\"/\\\" + accumPathEnding;\\n        }\\n    }\\n\\n    if(accumPathEnding && accumPathEnding.trim() != \\\"*\\\")\\n        xpaths.push(\\\".//\\\" + accumPathEnding);\\n\\n    return (xpaths.length && xpaths.length > 0)? xpaths:undefined;\\n}\\n\\n/* \\n * Función que obtiene un Xpath en relación a todos los elementos con la misma clase.\\n */\\nfunction ClassXPathEngine() {\\n\\n}\\n\\nClassXPathEngine.prototype = new XPathSelectorEngine();\\nClassXPathEngine.prototype.constructor = ClassXPathEngine;\\n\\nClassXPathEngine.prototype.getPath = function(element, parent){\\n\\n    if (!element) return;\\n    var elemClass = element.className;\\n    if (!elemClass) return;\\n    var tagName = element.nodeName.toLowerCase();\\n    \\n    // ESTO ES LO QUE DETERMINA COMO SERA EL XPATH -> VER VARIANTES\\n    var xpaths = [], elemClasses = elemClass.split(\\\" \\\");\\n\\n    for (var i = 0; i < elemClasses.length; i++) {\\n\\n        var elemPath = \\\".//\\\"+tagName+\\\"[contains(@class, '\\\"+ elemClasses[i] +\\\"')]\\\";\\n        var res = this.getElement(element.ownerDocument, elemPath);\\n        for (var e in res){\\n            if (res[e]==element){\\n                xpaths.push(elemPath);\\n                break;\\n            }\\n        }\\n    }\\n    return (xpaths.length && xpaths.length > 0)? xpaths:undefined;\\n};\\n\\n\\n/* \\n * Estrategia xpath absoluto o full.\\n * Funciona como el de firebug\\n */\\nfunction FullXPathEngine() {\\n\\n}\\n\\nFullXPathEngine.prototype = new XPathSelectorEngine();\\nFullXPathEngine.prototype.constructor = FullXPathEngine;\\n\\nFullXPathEngine.prototype.suitableForRelative = function() {\\n   \\n    return true;\\n};\\n\\n//Función que obtiene un Xpath según su FullPath de árbol DOM. \\nFullXPathEngine.prototype.getPath = function(element, parentNode) {\\n\\n    if(element == undefined || parentNode == undefined)\\n        return null;\\n    var paths = [];\\n    // Arma el path hasta llegar al parent node, que puede ser el parametro o \\\"document\\\"\\n    for (   ;  \\n            element && element.nodeType == 1 && element != parentNode; \\n            element = element.parentNode) {\\n        var index = 1;\\n\\n        // aumenta el indice para comparar con los hermanos superiores del elemento actual (del mismo tipo)\\n        for (var sibling = element.previousSibling; sibling; sibling = sibling.previousSibling) {\\n            if (sibling.nodeType == 10) //element.ownerDocument.defaultView.Node.DOCUMENT_TYPE_NODE\\n                continue;\\n            if (sibling.nodeName == element.nodeName)\\n                index++;\\n        }\\n\\n        var tagName = element.nodeName.toLowerCase();\\n        var pathIndex = \\\"[\\\" + (index) + \\\"]\\\";\\n        paths.splice(0, 0, tagName + pathIndex);\\n    }\\n    if(paths.length)\\n        return [\\\".//\\\" + paths.join(\\\"/\\\")];\\n    else return;\\n};\\n\\n/* \\n * Estrategia CSS path (Se traduce con jquery, $('csspath')\\n */\\nfunction CssPathEngine() {\\n\\n}\\n\\nCssPathEngine.prototype = new XPathSelectorEngine();\\nCssPathEngine.prototype.constructor = CssPathEngine;\\n\\n//Función que obtiene un Xpath según su FullPath de árbol DOM. \\nCssPathEngine.prototype.getPath = function(element, parent){\\n    var paths = [];\\n\\n    for (; element && element.nodeType == 1; element = element.parentNode)\\n    {\\n        var selector = this.getElementCSSSelector(element);\\n        paths.splice(0, 0, selector);\\n    }\\n\\n    if(paths.length)\\n        return paths.join(\\\" \\\");\\n    else return;\\n};\\n\\n//Funcion utilizada para obtener el selector de cada elemento\\nCssPathEngine.prototype.getElementCSSSelector = function(element){\\n    if (!element || !element.localName)\\n        return null;\\n\\n    var label = element.localName.toLowerCase();\\n    if (element.id)\\n    label += \\\"#\\\" + element.id;\\n\\n    if (element.classList && element.classList.length > 0)\\n    label += \\\".\\\" + element.classList.item(0);\\n\\n    return label;\\n};\\n\\n\\n//Sobre escribo la funcion del padre, porque esto no es un xpath!\\nCssPathEngine.prototype.getElement = function(aNode, aExpr) {    \\n    if (aNode){\\n        return aNode.querySelector(aExpr);\\n    }else{\\n        return document.querySelector(aExpr);\\n    }\\n\\n};\\n\\nexport default XPathInterpreter;\\n\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{11:function(e,t,n){\"use strict\";n.r(t);var o=n(2),r=n(3),i=n(5),l=n(1),a=n(4),s=n(6),c=n(0),u=n.n(c),m=n(12),h=n(8),p=n(7),f=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={elementXpath:\"\"},n.refactoring=new n.props.refactoring,n.pageSelector=new m.default(Object(s.a)(Object(s.a)(n))),n.pageSelector.enableElementSelection({scrapperClass:\"QuerySelectorScrapper\",targetElementSelector:n.refactoring.targetElements(),onElementSelection:\"onElementSelection\",justFullPath:!0}),n.pageSelector.preventDomElementsBehaviour(),n.disableElementSelection=n.disableElementSelection.bind(Object(s.a)(Object(s.a)(n))),n}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"onElementSelected\",value:function(e){var t=(new h.default).getPath(e,document.body)[0];this.setState({elementXpath:t}),this.refactoring.setElement(t)}},{key:\"disableElementSelection\",value:function(){this.pageSelector.restoreDomElementsBehaviour()}},{key:\"render\",value:function(){return u.a.createElement(\"div\",null,u.a.createElement(\"h1\",null,\"Select an Element\"),u.a.createElement(\"p\",null,\"Target Element: \",u.a.createElement(\"span\",null,this.state.elementXpath)),u.a.createElement(p.Link,{onClick:this.disableElementSelection,component:this.refactoring.getView(),componentProps:{refactoring:this.refactoring}},\"Continue\"))}}]),t}(u.a.Component);t.default=f},12:function(e,t,n){\"use strict\";n.r(t);var o=n(8);console.log(\"\\n\\n\\n********* LOADING THE 'PAGE SELECTOR' FILE *********\\n\\n\\n\");var r={XpathScrapper:function(){this.getElements=function(e){return(new o.default).getElementsByXpath(e,document)},this.getElement=function(e){if(void 0!=e){var t=(new o.default).getElementsByXpath(e,document);return t&&t.length>0?t[0]:void 0}}},QuerySelectorScrapper:function(){this.getElements=function(e){return document.querySelectorAll(e)},this.getElement=function(e){if(void 0!=e)return document.querySelector(e)}}};function i(e){this.selectableElemClass=\"andes-selectable\",this.onHoverHighlightClass=\"andes-highlighted-on-hover\",this.selectionClass=\"andes-selected\",this.clearBackgroundClass=\"andes-clear-background\",this.obfuscatedClass=\"andes-blurred\",this.onElementSelectionMessage=null,this.loadListeners(),this.selectedElem=null,this.component=e}i.prototype.getSetOfXPathsByOccurrences=function(e,t,n,r){var i,l=new o.default,a={};if(this.justFullPaths)i=l.getMultipleFullPaths(e,t);else if(n){for(var s,c=r.length-1;c>=0;c--)if(r[c].contains(e)){s=r[c];break}i=s?l.getMultipleRelativeXPaths(e,s,this.generatesSingleElemSelectors):[]}else console.log(\"getMultipleXPaths\"),i=l.getMultipleXPaths(e,e.ownerDocument,this.generatesSingleElemSelectors);if(i&&i.length)for(c=i.length-1;c>=0;c--)if(!i[c].includes(\"andes-\")){var u=l.getElementsByXpath(i[c],e.ownerDocument).length;u>0&&(a[u]?this.addToExistingLabeledXpath(u,i[c],a):this.createNewLabeledXpath(u,i[c],a))}return a},i.prototype.addToExistingLabeledXpath=function(e,t,n){var o=n[e];o.push(t),n[e]=o},i.prototype.createNewLabeledXpath=function(e,t,n){n[e]=[t]},i.prototype.loadListeners=function(){var e=this;this.selectionListener=function(t){var n=e.withParentElements(e.selectedElem);e.removeHighlightingOnHover(e.selectedElem),n.forEach(function(t){e.removeStyleClass(t,e.selectionClass),e.removeStyleClass(t,e.clearBackgroundClass)}),e.component.onElementSelected(e.selectedElem)},this.mouseEnterSelection=function(t){t.preventDefault(),t.stopImmediatePropagation(),e.addStyleClass(this,e.onHoverHighlightClass)},this.withParentElements=function(e){var t=[];for(t.push(e);e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t},this.mouseLeaveSelection=function(t){e.removeStyleClass(this,e.onHoverHighlightClass),t.preventDefault(),t.stopImmediatePropagation()},this.preventAnyAction=function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1},this.preventActionsListener=function(t){return t.preventDefault(),t.stopImmediatePropagation(),e.selectedElem=this,e.selectedElem&&e.hasAugmentedAction(e.selectedElem)&&(console.log(\"preventActionsListener\"),e.executeAugmentedActions({target:e.selectedElem,type:t.type})),!1}},i.prototype.getAllVisibleDomElements=function(){return document.querySelectorAll(\"body, input, div, a, img, span, label, ul, li, p, pre, cite, em\")},i.prototype.getAllVisibleDomElementsButBody=function(){return document.querySelectorAll(\"div, input, a, img, span, label, ul, li, p, pre, cite, em, form, select, h1, h2, h3, h4, h5, h6\")},i.prototype.getCurrentSidebarElements=function(){return document.querySelector(\"#refactoring-extension-root\").querySelectorAll(\"*\")},i.prototype.highlightMatchingElements=function(e){},i.prototype.selectMatchingElements=function(e){e.removeFullSelectionStyle&&this.removeFullSelectionStyle();for(var t=e.scrapper&&e.refElemSelector?(new r[e.scrapper]).getElement(e.refElemSelector):document,n=(new o.default).getElementsByXpath(e.selector,t),i=n.length-1;i>=0;i--)this.addSelectionClass(n[i])},i.prototype.preventDomElementsBehaviour=function(){var e=this;this.preventFormsOnSubmit(),this.getAllVisibleDomElementsButBody().forEach(function(t){t.addEventListener(\"click\",e.preventActionsListener,!1),e.getEventsNamesToPrevent().forEach(function(n){t.addEventListener(n,e.preventAnyAction,!1)})})},i.prototype.preventFormsOnSubmit=function(){document.querySelectorAll(\"form\").forEach(function(e){e.onsubmit=function(e){return!1}})},i.prototype.restoreDomElementsBehaviour=function(){this.removeAllAugmentedActions();var e=this;this.getAllVisibleDomElementsButBody().forEach(function(t){t.removeEventListener(\"click\",e.preventActionsListener,!1),e.getEventsNamesToPrevent().forEach(function(n){t.removeEventListener(n,e.preventAnyAction,!1)}),e.removeHighlightingOnHover(t)}),this.removeFullSelectionStyle()},i.prototype.removeAugmentedActions=function(e){e.removeAttribute(\"andes-actions\")},i.prototype.removeAllAugmentedActions=function(e){document.querySelectorAll(\"*[andes-actions]\").forEach(function(e){return e.removeAttribute(\"andes-actions\")})},i.prototype.getEventsNamesToPrevent=function(){return[\"click\",\"mouseup\",\"mousedown\"]},i.prototype.getTargetElements=function(e){return document.querySelectorAll(e)},i.prototype.enableFullPathElementSelection=function(e){this.darkifyAllDomElements(),this.preventFormsOnSubmit(),this.lastUsedExtractor=new r[e.scrapperClass],this.generatesSingleElemSelectors=e.generatesSingleElemSelectors;var t=this.lastUsedExtractor.getElements(e.targetElementSelector);this.refElem=this.lastUsedExtractor.getElement(e.refElemSelector),this.onElementSelectionMessage=e.onElementSelection,this.addSelectionListener(t,e.onElementSelection,\"click\",e.scoped,e.removeStyleOnSelection,e.generateRelativeSelector,e),this.undarkifySidebarElements(),this.darkify(document.body)},i.prototype.enableElementSelection=function(e){this.darkifyAllDomElements(),this.preventFormsOnSubmit(),this.lastUsedExtractor=new r[e.scrapperClass],this.generatesSingleElemSelectors=e.generatesSingleElemSelectors;var t=this.lastUsedExtractor.getElements(e.targetElementSelector);this.refElem=this.lastUsedExtractor.getElement(e.refElemSelector),this.refElems=this.lastUsedExtractor.getElements(e.refElemSelector),this.onElementSelectionMessage=e.onElementSelection,this.justFullPaths=e.justFullPaths,this.addSelectionListener(t,e.onElementSelection,\"click\",e.scoped,e.removeStyleOnSelection,e.generateRelativeSelector,e),this.undarkifySidebarElements(),this.darkify(document.body)},i.prototype.disableElementSelection=function(e){this.undarkifyAllDomElements(),this.removeElemsHighlightingClass(e.selector),this.removeHighlightingOnHoverFrom(e.selector),this.removeAllAugmentedActions()},i.prototype.darkifyAllDomElements=function(){var e=this;this.getAllVisibleDomElements().forEach(function(t){e.darkify(t)})},i.prototype.undarkifyAllDomElements=function(){var e=this;this.getAllVisibleDomElements().forEach(function(t){e.undarkify(t)})},i.prototype.removeElemsHighlightingClass=function(e){var t=this;this.lastUsedExtractor.getElements(e).forEach(function(e){t.removeSelectableElemStyle(e)})},i.prototype.hasAugmentedAction=function(e){return this.getAugmentedActions(e).length>0},i.prototype.executeAugmentedActions=function(e){for(var t=this.getAugmentedActions(e.target),n=t.length-1;n>=0;n--)e.type.toUpperCase()==t[n].event.toUpperCase()&&(e.params=t[n].params,this[t[n].listener](e))},i.prototype.getAugmentedActions=function(e){if(e){var t=e.getAttribute(\"andes-actions\");if(t&&t.length)return JSON.parse(t)}return[]},i.prototype.isActionIncluded=function(e,t){for(var n=t.length-1;n>=0;n--)if(t[n].listener==e.listener&&t[n].listener==e.listener)return!0;return!1},i.prototype.addAugmentedAction=function(e,t,n){var o=this.getAugmentedActions(e);this.isActionIncluded(t,o)||(o.push(t),e.setAttribute(\"andes-actions\",JSON.stringify(o)))},i.prototype.addSelectionListener=function(e,t,n,o,r,i,l){var a=this;this.removeStyleOnSelection=r,this.scoped=o,this.generateRelativeSelector=i,e.forEach(function(e){a.undarkify(e),a.addHighlightingOnHover(e),a.addSelectableElemStyle(e),a.addAugmentedAction(e,{listener:\"selectionListener\",event:n,params:l})})},i.prototype.addHighlightingOnHover=function(e){e.addEventListener(\"mouseover\",this.mouseEnterSelection,!1),e.addEventListener(\"mouseleave\",this.mouseLeaveSelection,!1)},i.prototype.removeHighlightingOnHover=function(e){e.removeEventListener(\"mouseover\",this.mouseEnterSelection,!1),e.removeEventListener(\"mouseleave\",this.mouseLeaveSelection,!1),this.removeStyleClass(e,this.onHoverHighlightClass)},i.prototype.addSelectableElemStyle=function(e){this.addStyleClass(e,this.selectableElemClass)},i.prototype.addSelectionClass=function(e){this.addStyleClass(e,this.selectionClass)},i.prototype.removeSelectionClass=function(e){this.removeStyleClass(e,this.selectionClass)},i.prototype.removeFullSelectionStyle=function(){return this.removeClassFromMatchingElements(this.obfuscatedClass),this.removeClassFromMatchingElements(this.selectableElemClass),this.removeClassFromMatchingElements(this.onHoverHighlightClass),this.removeClassFromMatchingElements(this.clearBackgroundClass),this.removeClassFromMatchingElements(this.selectionClass),Promise.resolve()},i.prototype.removeHighlightingOnHoverFrom=function(e){this.selectedElem=void 0;var t=this;this.lastUsedExtractor.getElements(e).forEach(function(e){t.removeHighlightingOnHover(e)})},i.prototype.removeEventBlockers=function(){console.log(\"Removing event blockers\")},i.prototype.removeClassFromMatchingElements=function(e){var t=document.querySelectorAll(\".\"+e);return t.forEach(function(t){return t.classList.remove(e)}),t},i.prototype.addClassToMatchingElements=function(e,t){for(var n=0;n<e.length;n++)this.addStyleClass(e[n],t);return e},i.prototype.undarkifySidebarElements=function(){var e=this;this.getCurrentSidebarElements().forEach(function(t){e.undarkify(t)})},i.prototype.isAVisibleElement=function(e){return\"none\"!=e.style.display&&0!=e.getBoundingClientRect().width},i.prototype.darkify=function(e){this.addStyleClass(e,this.obfuscatedClass)},i.prototype.addClearBackground=function(e){this.addStyleClass(e,this.clearBackgroundClass)},i.prototype.addStyleClass=function(e,t){e.classList&&!e.classList.contains(t)&&e.classList.add(t)},i.prototype.removeStyleClass=function(e,t){e&&e.classList&&e.classList.contains(t)&&e.classList.remove(t)},i.prototype.undarkify=function(e){this.removeStyleClass(e,this.obfuscatedClass)},i.prototype.removeSelectableElemStyle=function(e){this.removeStyleClass(e,this.selectableElemClass)},i.prototype.removeClearBackground=function(e){this.removeStyleClass(e,this.clearBackgroundClass)},t.default=i},13:function(e,t,n){\"use strict\";n.r(t);var o=n(2),r=n(3),i=n(5),l=n(1),a=n(4),s=n(0),c=n.n(s),u=n(14),m=n.n(u),h=(n(29),n(7)),p=n.n(h),f=n(11),d=n(9),g=n(8),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).call(this))}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"setElement\",value:function(e){this.elementXpath=e}},{key:\"getElementXpath\",value:function(){return this.elementXpath}},{key:\"getElement\",value:function(){return(new g.default).getSingleElementByXpath(this.elementXpath,document.body)}},{key:\"initialize\",value:function(){this.targetElement=this.getElement()}},{key:\"serialize\",value:function(){var e=Object(d.a)(Object(l.a)(t.prototype),\"serialize\",this).call(this);return e.elementXpath=this.elementXpath,e.style=this.style,e}},{key:\"isOnElement\",value:function(){return!0}},{key:\"setStyle\",value:function(e){this.style=e}},{key:\"getStyleElement\",value:function(){return this.targetElement}},{key:\"applyStyle\",value:function(){if(this.style){var e=\"\";e=this.getStyleElement().getAttribute(\"style\")?\";\"+this.style:this.style,this.getStyleElement().setAttribute(\"style\",e)}}}]),t}(function(){function e(){Object(o.a)(this,e)}return Object(r.a)(e,[{key:\"initialize\",value:function(){}},{key:\"transform\",value:function(){}},{key:\"applyStyle\",value:function(){}},{key:\"execute\",value:function(){this.initialize(),this.transform(),this.applyStyle()}},{key:\"isOnElement\",value:function(){return!1}},{key:\"serialize\",value:function(){return{refactoring:this.constructor.name}}},{key:\"createRefactoring\",value:function(e){return new window[e.refactoring](e)}}]),e}()),y=n(6),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).refactoring=n.props.refactoring,n.handleSubmit=n.handleSubmit.bind(Object(y.a)(Object(y.a)(n))),n}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"handleSubmit\",value:function(){this.refactoring.execute()}},{key:\"render\",value:function(){var e=document.location.href.replace(document.location.search,\"\");return c.a.createElement(\"div\",{id:\"uxpainter-refactoring-form\"},c.a.createElement(\"input\",{type:\"hidden\",id:\"url_for_instance\",value:e}),this.props.children,c.a.createElement(\"div\",{className:\"uxpainter-form-group\"},c.a.createElement(h.Link,{onClick:this.handleSubmit,component:O},\"Apply\"),c.a.createElement(h.Link,{onClick:function(){return Object(h.goBack)()}},\"Cancel\")))}}]),t}(c.a.Component),S=function(e){function t(e){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).call(this,e))}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"render\",value:function(){return c.a.createElement(E,{refactoring:this.props.refactoring},c.a.createElement(\"div\",{className:\"uxpainter-form-group\"},c.a.createElement(\"label\",null,\"Target Element\"),c.a.createElement(\"p\",null,this.props.refactoring.getElementXpath())),this.props.children)}}]),t}(c.a.Component),b=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={elementName:\"\"},n.handleChange=n.handleChange.bind(Object(y.a)(Object(y.a)(n))),n.refactoring=n.props.refactoring,n}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"handleChange\",value:function(e){this.setState({elementName:e.target.value}),this.refactoring.setNewName(this.state.elementName)}},{key:\"render\",value:function(){return c.a.createElement(S,{refactoring:this.refactoring},c.a.createElement(\"div\",{className:\"ux-painter-form-group\"},c.a.createElement(\"label\",null,\"Element Name\"),c.a.createElement(\"input\",{type:\"text\",id:\"uxpainter-element-name\",onChange:this.handleChange})))}}]),t}(c.a.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).call(this))}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"transform\",value:function(){var e=this.getElement();\"undefined\"!==e&&(e.innerHTML=this.newName)}},{key:\"setNewName\",value:function(e){this.newName=e}},{key:\"serialize\",value:function(){var e=Object(d.a)(Object(l.a)(t.prototype),\"serialize\",this).call(this);return e.newName=this.newName,e}},{key:\"targetElements\",value:function(){return\"a, button, input[type='button'], input[type='submit'], span, p, h1, h2, h3, h4, h5, h6\"}},{key:\"getView\",value:function(){return b}}]),t}(v),O=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"render\",value:function(){return[c.a.createElement(\"h1\",null,\"Availables Refactorings\"),c.a.createElement(\"ul\",null,c.a.createElement(\"li\",null,c.a.createElement(h.Link,{component:f.default,componentProps:{refactoring:C}},\"Rename Element\")))]}}]),t}(c.a.Component),k=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(a.a)(t,e),Object(r.a)(t,[{key:\"render\",value:function(){return c.a.createElement(m.a,{head:[c.a.createElement(\"link\",{type:\"text/css\",rel:\"stylesheet\",href:chrome.runtime.getURL(\"/static/css/1.chunk.css\")})]},c.a.createElement(u.FrameContextConsumer,null,function(e){e.document,e.window;return c.a.createElement(\"div\",{className:\"my-extension\"},c.a.createElement(p.a,null,c.a.createElement(O,null)))}))}}]),t}(c.a.Component);t.default=k},15:function(e,t,n){\"use strict\";n.r(t);var o=n(10),r=n.n(o),i=n(0),l=n.n(i),a=n(13),s=(n(30),document.createElement(\"div\"));s.id=\"refactoring-extension-root\",document.body.appendChild(s),r.a.render(l.a.createElement(a.default,null),s),s.style.display=\"none\",chrome.runtime.onMessage.addListener(function(e,t,n){\"clicked_browser_action\"===e.message&&(\"none\"===s.style.display?s.style.display=\"block\":s.style.display=\"none\")})},29:function(e,t,n){},30:function(e,t,n){},8:function(e,t,n){\"use strict\";function o(){this.currentElement=null,this.xPaths=null,this.engine=new s}function r(){}function i(){}function l(){}function a(){}function s(){}function c(){}n.r(t),o.prototype.setEngine=function(e){this.engine=e},o.prototype.addEngine=function(e){this.engines.add(e)},o.prototype.removeEngine=function(e){this.engines.inlude(e)&&this.engines.remove(this.engines.indexOf(e))},o.prototype.removeEngines=function(){this.engines=[]},o.prototype.getMultipleFullPaths=function(e,t){var n=[];if(void 0!=e){try{var o=(new s).getPath(e,document);if(void 0!==o&&null!==o&&o.length&&o.length>0)for(var r=0;r<o.length;r++)n.push(o[r])}catch(i){console.log(i)}return n}},o.prototype.getMultipleRelativeXPaths=function(e,t,n){var o=[];if(void 0!=e&&void 0!=t){for(var r=0;r<this.engine.length;r++)if(this.engine[r].suitableForRelative()&&this.engine[r].generatesSingleElemSelectors()==n)try{var i=this.engine[r].getPath(e,t);if(console.log(this.engine[r].constructor.name,i),void 0!==i&&null!==i&&i.length&&i.length>0)for(var l=0;l<i.length;l++)o.push(i[l])}catch(a){console.log(a)}return o}},o.prototype.getMultipleXPaths=function(e,t,n){var o=[];if(void 0!=e){void 0==t&&(t=e.ownerDocument);for(var r=0;r<this.engine.length;r++)if(this.engine[r].generatesSingleElemSelectors()==n)try{var i=this.engine[r].getPath(e,t);if(void 0!==i&&null!==i&&i.length&&i.length>0)for(var l=0;l<i.length;l++)null!=i[l]&&i[l].indexOf(\".//\")>-1&&o.push(i[l].slice(0,i[l].lastIndexOf(\"[\"))),o.push(i[l])}catch(a){console.log(a)}return o}},o.prototype.getPath=function(e,t){return this.engine.getPath(e,t)},o.prototype.getElementByXPath=function(e,t){var n=t&&t.ownerDocument?t.ownerDocument:t;return n.evaluate(e,n,null,9,null).singleNodeValue},o.prototype.getSingleElementByXpath=function(e,t){return(t&&t.ownerDocument?t.ownerDocument:t).evaluate(e,t,null,XPathResult.ANY_TYPE,null).iterateNext()},o.prototype.getElementsByXpath=function(e,t){var n=[];try{for(var o=t&&t.ownerDocument?t.ownerDocument:t,r=o.evaluate(e,o,null,XPathResult.ANY_TYPE,null),i=r.iterateNext();i;)n.push(i),i=r.iterateNext()}catch(l){console.log(l)}return n},r.prototype.getElement=function(e,t){for(var n,o=new e.defaultView.XPathEvaluator,r=o.createNSResolver(null===e.ownerDocument?e.documentElement:e.ownerDocument.documentElement),i=o.evaluate(t,e,r,0,null),l=[];n=i.iterateNext();)l.push(n);return l},r.prototype.suitableForRelative=function(){return!1},r.prototype.generatesSingleElemSelectors=function(){return!1},i.prototype=new r,i.prototype.constructor=i,i.prototype.getPath=function(e,t){return e&&e.id?[\".//\"+e.nodeName.toLowerCase()+'[@id=\"'+e.id+'\"]']:void 0},i.prototype.generatesSingleElemSelectors=function(){return!0},l.prototype=new r,l.prototype.constructor=l,l.prototype.getPath=function(e,t){if(e){for(var n=[],o=e.nodeName.toLowerCase(),r=e;r=r.parentElement;){if(r.className){o=\"*[contains(@class, 'briefCitRow')]/\"+o;break}o=r.nodeName.toLowerCase()+\"/\"+o}return o&&\"*\"!=o.trim()&&n.push(\".//\"+o),n.length&&n.length>0?n:void 0}},a.prototype=new r,a.prototype.constructor=a,a.prototype.getPath=function(e,t){if(e){var n=e.className;if(n){for(var o=e.nodeName.toLowerCase(),r=[],i=n.split(\" \"),l=0;l<i.length;l++){var a=\".//\"+o+\"[contains(@class, '\"+i[l]+\"')]\",s=this.getElement(e.ownerDocument,a);for(var c in s)if(s[c]==e){r.push(a);break}}return r.length&&r.length>0?r:void 0}}},s.prototype=new r,s.prototype.constructor=s,s.prototype.suitableForRelative=function(){return!0},s.prototype.getPath=function(e,t){if(void 0==e||void 0==t)return null;for(var n=[];e&&1==e.nodeType&&e!=t;e=e.parentNode){for(var o=1,r=e.previousSibling;r;r=r.previousSibling)10!=r.nodeType&&r.nodeName==e.nodeName&&o++;var i=e.nodeName.toLowerCase(),l=\"[\"+o+\"]\";n.splice(0,0,i+l)}return n.length?[\".//\"+n.join(\"/\")]:void 0},c.prototype=new r,c.prototype.constructor=c,c.prototype.getPath=function(e,t){for(var n=[];e&&1==e.nodeType;e=e.parentNode){var o=this.getElementCSSSelector(e);n.splice(0,0,o)}return n.length?n.join(\" \"):void 0},c.prototype.getElementCSSSelector=function(e){if(!e||!e.localName)return null;var t=e.localName.toLowerCase();return e.id&&(t+=\"#\"+e.id),e.classList&&e.classList.length>0&&(t+=\".\"+e.classList.item(0)),t},c.prototype.getElement=function(e,t){return e?e.querySelector(t):document.querySelector(t)},t.default=o}}]);","extractedComments":[]}